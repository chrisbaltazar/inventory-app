{% extends 'base.html.twig' %}

{% block title %}Usuario {{ user.name }}{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        document.addEventListener('turbo:load', function () {
            disablePwdFields(true)
        })

        function changePwd() {
            disablePwdFields(false)
        }

        function disablePwdFields(state) {
            document.querySelectorAll('.user-pwd input').forEach(function (el) {
                el.disabled = state
            })
        }
    </script>
{% endblock %}

{% block body %}

    <div class="row">
        <h1>Editar Usuario</h1>

        {% embed 'user/_form.html.twig' %}

            {% block form_buttons %}
                <a class="btn btn-warning" onclick="changePwd()">
                    <i class="fa-solid fa-lock"></i> Password
                </a>
            {% endblock %}

        {% endembed %}
    </div>

{% endblock %}
